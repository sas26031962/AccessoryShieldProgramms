/*
 * Тестовая программа для вывода информации на OLED-дисплей
 */

 //========================================================================
 //---------------------------- ПОДКЛЮЧАЕМЫЕ ФАЙЛЫ ------------------------
 //========================================================================
 
#include <OLED_I2C.h>
#include "config.h"

 //========================================================================
 //-------------------------------- КОНСТАНТЫ -----------------------------
 //========================================================================
#define DELAY 5000  // Задержка между эпизодами сценария

 //========================================================================
 //--------------------------- ГЛОБАЛЬНЫЕ ПЕРЕМЕННЫЕ ----------------------
 //========================================================================
OLED  myOLED(SDA, SCL, RESET_PIN);

extern uint8_t SmallFont[];
extern uint8_t RusFont[];

int Top = SCREEN_HEIGHT;

 //========================================================================
 //----------------------- ПРОЦЕДУРА НАЧАЛЬНОЙ УСТАНОВКИ ------------------
 //========================================================================
void setup()
{
  
  myOLED.begin();
  myOLED.setFont(SmallFont);
  
  showScreen();
  
}//End of void setup()

 //========================================================================
 //--------------------------- ГЛАВНЫЙ ЦИКЛ ПРОГРАММЫ ---------------------
 //========================================================================
void loop()
{
  Top --;
  if(Top == 0) Top = SCREEN_HEIGHT;
  
  myOLED.clrScr();
  myOLED.setFont(SmallFont);
  
  showScreen();
  
}//End of void loop()

 //========================================================================
 //------------------------------- ПОДПРОГРАММЫ ---------------------------
 //========================================================================

void showScreen()
{
  for(int i = 0; i < 8; i++)
  {
    String s = "";
    s += "String #";
    s += (i + 1);
    s += " line";
    myOLED.print(s, LEFT, Top - SMALL_STRING_HEIGHT * (i + 1));
  }
  
  myOLED.update();
  
}//End of void showScreen() 

